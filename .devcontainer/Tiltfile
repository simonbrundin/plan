# ==================================================================
# Plan Development Environment - Tiltfile
# ==================================================================
# Välj mellan lokal (Docker Compose) eller Kubernetes utvecklingsmiljö
#
# Användning:
#   tilt up                          # Kör i lokal mode (default)
#   tilt up -- --mode=local          # Explicit lokal mode
#   tilt up -- --mode=kubernetes     # Kör i Kubernetes
#
# ==================================================================

# ------------------------------------------------------------------
# Mode Selection
# ------------------------------------------------------------------

config.define_string('mode', args=True, usage='Development mode: local or kubernetes (default: local)')
cfg = config.parse()
mode = cfg.get('mode', 'local')

print('==========================================')
print('Development Mode: ' + mode)
print('==========================================')

# ------------------------------------------------------------------
# Load Mode-Specific Configuration
# ------------------------------------------------------------------

if mode == 'kubernetes':
    load_dynamic('./Tiltfile.kubernetes')
else:
    load_dynamic('./Tiltfile.local')
